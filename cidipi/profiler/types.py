# AUTO-GENERATED By cidipi/tools/generator.py. DO NOT EDIT.

from typing import Optional, Union

from pydantic import BaseModel

from cidipi import runtime


class ProfileNode(BaseModel):
    """
    Profile node. Holds callsite information, execution statistics and child nodes.
    """

    id: Union[float, int]
    """
    Unique id of the node.
    """
    callFrame: runtime.CallFrame
    """
    Function location.
    """
    hitCount: Optional[Union[float, int]]
    """
    Number of samples where this node was on top of the call stack.
    """
    children: Optional[list]
    """
    Child node ids.
    """
    deoptReason: Optional[str]
    """
    The reason of being not optimized. The function may be deoptimized or marked as don't
optimize.
    """
    positionTicks: Optional[list]
    """
    An array of source position ticks.
    """


class Profile(BaseModel):
    """
    Profile.
    """

    nodes: list
    """
    The list of profile nodes. First item is the root node.
    """
    startTime: Union[float, int]
    """
    Profiling start timestamp in microseconds.
    """
    endTime: Union[float, int]
    """
    Profiling end timestamp in microseconds.
    """
    samples: Optional[list]
    """
    Ids of samples top nodes.
    """
    timeDeltas: Optional[list]
    """
    Time intervals between adjacent samples in microseconds. The first delta is relative to the
profile startTime.
    """


class PositionTickInfo(BaseModel):
    """
    Specifies a number of samples attributed to a certain source position.
    """

    line: Union[float, int]
    """
    Source line number (1-based).
    """
    ticks: Union[float, int]
    """
    Number of samples attributed to the source line.
    """


class CoverageRange(BaseModel):
    """
    Coverage data for a source range.
    """

    startOffset: Union[float, int]
    """
    JavaScript script source offset for the range start.
    """
    endOffset: Union[float, int]
    """
    JavaScript script source offset for the range end.
    """
    count: Union[float, int]
    """
    Collected execution count of the source range.
    """


class FunctionCoverage(BaseModel):
    """
    Coverage data for a JavaScript function.
    """

    functionName: str
    """
    JavaScript function name.
    """
    ranges: list
    """
    Source ranges inside the function with coverage data.
    """
    isBlockCoverage: bool
    """
    Whether coverage data for this function has block granularity.
    """


class ScriptCoverage(BaseModel):
    """
    Coverage data for a JavaScript script.
    """

    scriptId: runtime.ScriptId
    """
    JavaScript script id.
    """
    url: str
    """
    JavaScript script name or url.
    """
    functions: list
    """
    Functions contained in the script that has coverage data.
    """
